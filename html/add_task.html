<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Add Task</title>
    <link rel="icon" type="image/x-icon" href="../assets/img/logoBright.svg" />
    <link rel="stylesheet" href="../css/font_inter.css" />
    <link rel="stylesheet" href="../css/footer_template.css" />
    <link rel="stylesheet" href="../css/header_template.css" />
    <link rel="stylesheet" href="../css/aside_template.css" />
    <link rel="stylesheet" href="../css/add_task.css" />
    <link rel="stylesheet" href="../css/scrollbar.css" />
    <script src="../js/includeHTML.js"></script>
    <script src="../js/add_task.js"></script>
    <script src="../js/remoteStorage.js"></script>
  </head>

  <body class="bodyContainer" onload="initAddTask()">
    <header w3-include-html="../assets/templates/header_template.html"></header>
    <aside w3-include-html="../assets/templates/aside_template.html"></aside>
    <main class="mainContainer">
      <section class="addTaskMainContainer">
        <h1 class="addTaskTitle">Add Task</h1>
        <div class="mainAddTask">
            <form class="formAddTask">
                <div class="addTasksLeft">
                  <div class="addTaskTitleContainer">
                    <label for="title">Title<span style="color: red">*</span></label>
                    <input
                      type="text"
                      id="title"
                      name="title"
                      placeholder="Enter a title"
                      required
                      oninput="enableCreateTaskButton()"
                    />
                  </div>
                  <div class="addTaskDescriptionContainer">
                    <label for="description">Description</label>
                    <textarea
                      name="description"
                      id="description"
                      rows="4"
                      cols="50"
                      placeholder="Enter a Description"
                    ></textarea>
                  </div>
                  <div class="editAssignedTo">
                    <label for="contactsDropDown">AssignedTo</label>
                    <div class="contactsDropDownInputContainer">
                      <input
                        placeholder="Select contacts to assign"
                        type="search"
                        id="contactsDropDown"
                        onkeyup="editFilterNames()"
                        onfocus="showChoosingList()"
                      />
                      <div
                        class="openCloseChoosingListImg"
                        id="openCloseChoosingListImg"
                        onclick="toggleShowChoosingList()"
                      ></div>
                    </div>
                    <div id="choosingList" class="choosingList dnone"></div>
                    <div id="editAssignedTosChosenEdit" class="assignedContactsContainer"></div>
                  </div>
                  <div class="addTaskThisFieldIsRequiredLeft">
                    <span style="color: red">*</span><span>This field is required</span>
                  </div>
                </div>
                <div class="spacerAddTasks"></div>
                <div class="addTasksRight">
                  <div class="addTaskDueDateContainer">
                    <label for="editDueDate">Due date<span style="color: red">*</span></label>
                    <input
                      id="editDueDate"
                      name="editDueDate"
                      type="date"
                      min="2022-01-01"
                      step="1"
                      placeholder="dd-mm-yyyy"
                      required
                      oninput="enableCreateTaskButton()"
                    />
                  </div>
                  <div class="addTaskPrioContainer">
                    <p>Prio</p>
                    <div class="addTaskPrioButtonContainer">
                      <button
                        id="buttonUrgent"
                        onclick="addPrioButtonColor('urgent', event)"
                        class="buttonPrio"
                      >
                        Urgent<img id="buttonImg1" src="../assets/img/addTaskUrgentLogo.svg" />
                      </button>
                      <button
                        id="buttonMedium"
                        onclick="addPrioButtonColor('medium', event)"
                        class="buttonPrio buttonPrioMediumOrange"
                      >
                        Medium<img id="buttonImg2" src="../assets/img/addTaskMediumLogo.svg" />
                      </button>
                      <button
                        id="buttonLow"
                        onclick="addPrioButtonColor('low', event)"
                        class="buttonPrio"
                      >
                        Low<img id="buttonImg3" src="../assets/img/addTaskLowLogo.svg" />
                      </button>
                    </div>
                  </div>
                  <div class="addTaskCategoryContainer">
                    <label for="category">Category<span style="color: red">*</span></label>
                    <select name="category" id="category" required onchange="enableCreateTaskButton()">
                      <option disabled selected>Select task category</option>
                      <option value="User Story">User Story</option>
                      <option value="Technical Task">Technical Task</option>
                    </select>
                  </div>
                  <label for="editSubTasks">Subtasks</label>
                  <div class="editSubTasksInputContainer">
                    <input
                      type="text"
                      name="editSubTasks"
                      id="editSubTasks"
                      placeholder="Add new subtask"
                      minlength="5"
                      maxlength="20"
                    />
                    <img
                      class="addSubTaskImg"
                      src="../assets/img/EditTaskAddSubtask.svg"
                      alt=""
                      onclick="addSubTask()"
                    />
                  </div>
                  <div id="editSubtasksList" class="editSubtasksList"></div>
                  <div class="addTaskCreateTaskContainer">
                    <div class="addTaskThisFieldIsRequiredRight">
                      <span style="color: red">*</span><span>This field is required</span>
                    </div>
                    <button class="addTaskClearTaskButton" onclick="clearTask()">Clear<img src="../assets/img/close_black.svg" alt="Clear" /></button>
                    <button class="addTaskCreateTaskButton" type="submit" id="createTask" disabled>Create Task<img src="../assets/img/check.svg" alt="Check" /></button>
                  </div>
                </div>
              </form>              
        </div>
      </section>
    </main>
    <footer w3-include-html="../assets/templates/footer_template.html"></footer>
  </body>
</html>
